function e(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==`object`&&typeof Reflect.decorate==`function`)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}
/**
* @license
* Copyright 2019 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/
const t=globalThis,n=t.ShadowRoot&&(t.ShadyCSS===void 0||t.ShadyCSS.nativeShadow)&&`adoptedStyleSheets`in Document.prototype&&`replace`in CSSStyleSheet.prototype,r=Symbol(),i=new WeakMap;var a=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==r)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(n&&e===void 0){let n=t!==void 0&&t.length===1;n&&(e=i.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&i.set(t,e))}return e}toString(){return this.cssText}};const o=e=>new a(typeof e==`string`?e:e+``,void 0,r),s=(e,...t)=>new a(e.length===1?e[0]:t.reduce(((t,n,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if(typeof e==`number`)return e;throw Error(`Value passed to 'css' function must be a 'css' function result: `+e+`. Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.`)})(n)+e[r+1]),e[0]),e,r),c=(e,r)=>{if(n)e.adoptedStyleSheets=r.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(let n of r){let r=document.createElement(`style`),i=t.litNonce;i!==void 0&&r.setAttribute(`nonce`,i),r.textContent=n.cssText,e.appendChild(r)}},l=n?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t=``;for(let n of e.cssRules)t+=n.cssText;return o(t)})(e):e,{is:u,defineProperty:d,getOwnPropertyDescriptor:f,getOwnPropertyNames:p,getOwnPropertySymbols:ee,getPrototypeOf:m}=Object,h=globalThis,te=h.trustedTypes,ne=te?te.emptyScript:``,re=h.reactiveElementPolyfillSupport,g=(e,t)=>e,ie={toAttribute(e,t){switch(t){case Boolean:e=e?ne:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},ae=(e,t)=>!u(e,t),oe={attribute:!0,type:String,converter:ie,reflect:!1,useDefault:!1,hasChanged:ae};Symbol.metadata??=Symbol(`metadata`),h.litPropertyMetadata??=new WeakMap;var _=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=oe){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){let n=Symbol(),r=this.getPropertyDescriptor(e,n,t);r!==void 0&&d(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){let{get:r,set:i}=f(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:r,set(t){let a=r?.call(this);i?.call(this,t),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??oe}static _$Ei(){if(this.hasOwnProperty(g(`elementProperties`)))return;let e=m(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(g(`finalized`)))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(g(`properties`))){let e=this.properties,t=[...p(e),...ee(e)];for(let n of t)this.createProperty(n,e[n])}let e=this[Symbol.metadata];if(e!==null){let t=litPropertyMetadata.get(e);if(t!==void 0)for(let[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(let[e,t]of this.elementProperties){let n=this._$Eu(e,t);n!==void 0&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let n=new Set(e.flat(1/0).reverse());for(let e of n)t.unshift(l(e))}else e!==void 0&&t.push(l(e));return t}static _$Eu(e,t){let n=t.attribute;return!1===n?void 0:typeof n==`string`?n:typeof e==`string`?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){let e=new Map,t=this.constructor.elementProperties;for(let n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){let e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return c(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ET(e,t){let n=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,n);if(r!==void 0&&!0===n.reflect){let i=(n.converter?.toAttribute===void 0?ie:n.converter).toAttribute(t,n.type);this._$Em=e,i==null?this.removeAttribute(r):this.setAttribute(r,i),this._$Em=null}}_$AK(e,t){let n=this.constructor,r=n._$Eh.get(e);if(r!==void 0&&this._$Em!==r){let e=n.getPropertyOptions(r),i=typeof e.converter==`function`?{fromAttribute:e.converter}:e.converter?.fromAttribute===void 0?ie:e.converter;this._$Em=r;let a=i.fromAttribute(t,e.type);this[r]=a??this._$Ej?.get(r)??a,this._$Em=null}}requestUpdate(e,t,n){if(e!==void 0){let r=this.constructor,i=this[e];if(n??=r.getPropertyOptions(e),!((n.hasChanged??ae)(i,t)||n.useDefault&&n.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(r._$Eu(e,n))))return;this.C(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:n,reflect:r,wrapped:i},a){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,a??t??this[e]),!0!==i||a!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(t=void 0),this._$AL.set(e,t)),!0===r&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}let e=this.constructor.elementProperties;if(e.size>0)for(let[t,n]of e){let{wrapped:e}=n,r=this[t];!0!==e||this._$AL.has(t)||r===void 0||this.C(t,void 0,n,r)}}let e=!1,t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((e=>this._$ET(e,this[e]))),this._$EM()}updated(e){}firstUpdated(e){}};_.elementStyles=[],_.shadowRootOptions={mode:`open`},_[g(`elementProperties`)]=new Map,_[g(`finalized`)]=new Map,re?.({ReactiveElement:_}),(h.reactiveElementVersions??=[]).push(`2.1.1`);
/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/
const se=globalThis,v=se.trustedTypes,ce=v?v.createPolicy(`lit-html`,{createHTML:e=>e}):void 0,le=`$lit$`,y=`lit$${Math.random().toFixed(9).slice(2)}$`,ue=`?`+y,de=`<${ue}>`,b=document,x=()=>b.createComment(``),S=e=>e===null||typeof e!=`object`&&typeof e!=`function`,fe=Array.isArray,pe=e=>fe(e)||typeof e?.[Symbol.iterator]==`function`,me=`[ 	
\f\r]`,C=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,he=/-->/g,ge=/>/g,w=RegExp(`>|${me}(?:([^\\s"'>=/]+)(${me}*=${me}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,`g`),_e=/'/g,ve=/"/g,ye=/^(?:script|style|textarea|title)$/i,T=(e=>(t,...n)=>({_$litType$:e,strings:t,values:n}))(1),E=Symbol.for(`lit-noChange`),D=Symbol.for(`lit-nothing`),be=new WeakMap,O=b.createTreeWalker(b,129);function xe(e,t){if(!fe(e)||!e.hasOwnProperty(`raw`))throw Error(`invalid template strings array`);return ce===void 0?t:ce.createHTML(t)}const Se=(e,t)=>{let n=e.length-1,r=[],i,a=t===2?`<svg>`:t===3?`<math>`:``,o=C;for(let t=0;t<n;t++){let n=e[t],s,c,l=-1,u=0;for(;u<n.length&&(o.lastIndex=u,c=o.exec(n),c!==null);)u=o.lastIndex,o===C?c[1]===`!--`?o=he:c[1]===void 0?c[2]===void 0?c[3]!==void 0&&(o=w):(ye.test(c[2])&&(i=RegExp(`</`+c[2],`g`)),o=w):o=ge:o===w?c[0]===`>`?(o=i??C,l=-1):c[1]===void 0?l=-2:(l=o.lastIndex-c[2].length,s=c[1],o=c[3]===void 0?w:c[3]===`"`?ve:_e):o===ve||o===_e?o=w:o===he||o===ge?o=C:(o=w,i=void 0);let d=o===w&&e[t+1].startsWith(`/>`)?` `:``;a+=o===C?n+de:l>=0?(r.push(s),n.slice(0,l)+le+n.slice(l)+y+d):n+y+(l===-2?t:d)}return[xe(e,a+(e[n]||`<?>`)+(t===2?`</svg>`:t===3?`</math>`:``)),r]};var Ce=class e{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let a=0,o=0,s=t.length-1,c=this.parts,[l,u]=Se(t,n);if(this.el=e.createElement(l,r),O.currentNode=this.el.content,n===2||n===3){let e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;(i=O.nextNode())!==null&&c.length<s;){if(i.nodeType===1){if(i.hasAttributes())for(let e of i.getAttributeNames())if(e.endsWith(le)){let t=u[o++],n=i.getAttribute(e).split(y),r=/([.?@])?(.*)/.exec(t);c.push({type:1,index:a,name:r[2],strings:n,ctor:r[1]===`.`?Ee:r[1]===`?`?De:r[1]===`@`?Oe:A}),i.removeAttribute(e)}else e.startsWith(y)&&(c.push({type:6,index:a}),i.removeAttribute(e));if(ye.test(i.tagName)){let e=i.textContent.split(y),t=e.length-1;if(t>0){i.textContent=v?v.emptyScript:``;for(let n=0;n<t;n++)i.append(e[n],x()),O.nextNode(),c.push({type:2,index:++a});i.append(e[t],x())}}}else if(i.nodeType===8)if(i.data===ue)c.push({type:2,index:a});else{let e=-1;for(;(e=i.data.indexOf(y,e+1))!==-1;)c.push({type:7,index:a}),e+=y.length-1}a++}}static createElement(e,t){let n=b.createElement(`template`);return n.innerHTML=e,n}};function k(e,t,n=e,r){if(t===E)return t;let i=r===void 0?n._$Cl:n._$Co?.[r],a=S(t)?void 0:t._$litDirective$;return i?.constructor!==a&&(i?._$AO?.(!1),a===void 0?i=void 0:(i=new a(e),i._$AT(e,n,r)),r===void 0?n._$Cl=i:(n._$Co??=[])[r]=i),i!==void 0&&(t=k(e,i._$AS(e,t.values),i,r)),t}var we=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){let{el:{content:t},parts:n}=this._$AD,r=(e?.creationScope??b).importNode(t,!0);O.currentNode=r;let i=O.nextNode(),a=0,o=0,s=n[0];for(;s!==void 0;){if(a===s.index){let t;s.type===2?t=new Te(i,i.nextSibling,this,e):s.type===1?t=new s.ctor(i,s.name,s.strings,this,e):s.type===6&&(t=new ke(i,this,e)),this._$AV.push(t),s=n[++o]}a!==s?.index&&(i=O.nextNode(),a++)}return O.currentNode=b,r}p(e){let t=0;for(let n of this._$AV)n!==void 0&&(n.strings===void 0?n._$AI(e[t]):(n._$AI(e,n,t),t+=n.strings.length-2)),t++}},Te=class e{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=D,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=k(this,e,t),S(e)?e===D||e==null||e===``?(this._$AH!==D&&this._$AR(),this._$AH=D):e!==this._$AH&&e!==E&&this._(e):e._$litType$===void 0?e.nodeType===void 0?pe(e)?this.k(e):this._(e):this.T(e):this.$(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==D&&S(this._$AH)?this._$AA.nextSibling.data=e:this.T(b.createTextNode(e)),this._$AH=e}$(e){let{values:t,_$litType$:n}=e,r=typeof n==`number`?this._$AC(e):(n.el===void 0&&(n.el=Ce.createElement(xe(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===r)this._$AH.p(t);else{let e=new we(r,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=be.get(e.strings);return t===void 0&&be.set(e.strings,t=new Ce(e)),t}k(t){fe(this._$AH)||(this._$AH=[],this._$AR());let n=this._$AH,r,i=0;for(let a of t)i===n.length?n.push(r=new e(this.O(x()),this.O(x()),this,this.options)):r=n[i],r._$AI(a),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){let t=e.nextSibling;e.remove(),e=t}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}},A=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,r,i){this.type=1,this._$AH=D,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=i,n.length>2||n[0]!==``||n[1]!==``?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=D}_$AI(e,t=this,n,r){let i=this.strings,a=!1;if(i===void 0)e=k(this,e,t,0),a=!S(e)||e!==this._$AH&&e!==E,a&&(this._$AH=e);else{let r=e,o,s;for(e=i[0],o=0;o<i.length-1;o++)s=k(this,r[n+o],t,o),s===E&&(s=this._$AH[o]),a||=!S(s)||s!==this._$AH[o],s===D?e=D:e!==D&&(e+=(s??``)+i[o+1]),this._$AH[o]=s}a&&!r&&this.j(e)}j(e){e===D?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??``)}},Ee=class extends A{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===D?void 0:e}},De=class extends A{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==D)}},Oe=class extends A{constructor(e,t,n,r,i){super(e,t,n,r,i),this.type=5}_$AI(e,t=this){if((e=k(this,e,t,0)??D)===E)return;let n=this._$AH,r=e===D&&n!==D||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==D&&(n===D||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH==`function`?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}},ke=class{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){k(this,e)}};const Ae=se.litHtmlPolyfillSupport;Ae?.(Ce,Te),(se.litHtmlVersions??=[]).push(`3.3.1`);const je=(e,t,n)=>{let r=n?.renderBefore??t,i=r._$litPart$;if(i===void 0){let e=n?.renderBefore??null;r._$litPart$=i=new Te(t.insertBefore(x(),e),e,void 0,n??{})}return i._$AI(e),i},Me=globalThis;var j=class extends _{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){let e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=je(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return E}};j._$litElement$=!0,j.finalized=!0,Me.litElementHydrateSupport?.({LitElement:j});const Ne=Me.litElementPolyfillSupport;Ne?.({LitElement:j}),(Me.litElementVersions??=[]).push(`4.2.1`);
/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/
const Pe=e=>(t,n)=>{n===void 0?customElements.define(e,t):n.addInitializer((()=>{customElements.define(e,t)}))},Fe={attribute:!0,type:String,converter:ie,reflect:!1,hasChanged:ae},Ie=(e=Fe,t,n)=>{let{kind:r,metadata:i}=n,a=globalThis.litPropertyMetadata.get(i);if(a===void 0&&globalThis.litPropertyMetadata.set(i,a=new Map),r===`setter`&&((e=Object.create(e)).wrapped=!0),a.set(n.name,e),r===`accessor`){let{name:r}=n;return{set(n){let i=t.get.call(this);t.set.call(this,n),this.requestUpdate(r,i,e)},init(t){return t!==void 0&&this.C(r,void 0,e,t),t}}}if(r===`setter`){let{name:r}=n;return function(n){let i=this[r];t.call(this,n),this.requestUpdate(r,i,e)}}throw Error(`Unsupported decorator location: `+r)};function Le(e){return(t,n)=>typeof n==`object`?Ie(e,t,n):((e,t,n)=>{let r=t.hasOwnProperty(n);return t.constructor.createProperty(n,e),r?Object.getOwnPropertyDescriptor(t,n):void 0})(e,t,n)}
/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/function M(e){return Le({...e,state:!0,attribute:!1})}
/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/
const Re={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},ze=e=>(...t)=>({_$litDirective$:e,values:t});var Be=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};
/**
* @license
* Copyright 2018 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const Ve=ze(class extends Be{constructor(e){if(super(e),e.type!==Re.ATTRIBUTE||e.name!==`class`||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return` `+Object.keys(e).filter((t=>e[t])).join(` `)+` `}update(e,[t]){if(this.st===void 0){for(let n in this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(` `).split(/\s/).filter((e=>e!==``)))),t)t[n]&&!this.nt?.has(n)&&this.st.add(n);return this.render(t)}let n=e.element.classList;for(let e of this.st)e in t||(n.remove(e),this.st.delete(e));for(let e in t){let r=!!t[e];r===this.st.has(e)||this.nt?.has(e)||(r?(n.add(e),this.st.add(e)):(n.remove(e),this.st.delete(e)))}return E}}),N=Symbol.for(`@ts-pattern/matcher`),He=Symbol.for(`@ts-pattern/isVariadic`),P=`@ts-pattern/anonymous-select-key`,Ue=e=>!!(e&&typeof e==`object`),F=e=>e&&!!e[N],I=(e,t,n)=>{if(F(e)){let{matched:r,selections:i}=e[N]().match(t);return r&&i&&Object.keys(i).forEach(e=>n(e,i[e])),r}if(Ue(e)){if(!Ue(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let r=[],i=[],a=[];for(let t of e.keys()){let n=e[t];F(n)&&n[He]?a.push(n):a.length?i.push(n):r.push(n)}if(a.length){if(a.length>1)throw Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<r.length+i.length)return!1;let e=t.slice(0,r.length),o=i.length===0?[]:t.slice(-i.length),s=t.slice(r.length,i.length===0?1/0:-i.length);return r.every((t,r)=>I(t,e[r],n))&&i.every((e,t)=>I(e,o[t],n))&&(a.length===0||I(a[0],s,n))}return e.length===t.length&&e.every((e,r)=>I(e,t[r],n))}return Reflect.ownKeys(e).every(r=>{let i=e[r];return(r in t||F(a=i)&&a[N]().matcherType===`optional`)&&I(i,t[r],n);var a})}return Object.is(t,e)},L=e=>{var t;return Ue(e)?F(e)?(t=e[N]()).getSelectionKeys?.call(t)??[]:We(Array.isArray(e)?e:Object.values(e),L):[]},We=(e,t)=>e.reduce((e,n)=>e.concat(t(n)),[]);function Ge(...e){if(e.length===1){let[t]=e;return e=>I(t,e,()=>{})}if(e.length===2){let[t,n]=e;return I(t,n,()=>{})}throw Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${e.length}.`)}function R(e){return Object.assign(e,{optional:()=>qe(e),and:t=>z(e,t),or:t=>Xe(e,t),select:t=>t===void 0?V(e):V(t,e)})}function Ke(e){return Object.assign((e=>Object.assign(e,{[Symbol.iterator](){let t=0,n=[{value:Object.assign(e,{[He]:!0}),done:!1},{done:!0,value:void 0}];return{next:()=>n[t++]??n.at(-1)}}}))(e),{optional:()=>Ke(qe(e)),select:t=>Ke(t===void 0?V(e):V(t,e))})}function qe(e){return R({[N]:()=>({match:t=>{let n={},r=(e,t)=>{n[e]=t};return t===void 0?(L(e).forEach(e=>r(e,void 0)),{matched:!0,selections:n}):{matched:I(e,t,r),selections:n}},getSelectionKeys:()=>L(e),matcherType:`optional`})})}const Je=(e,t)=>{for(let n of e)if(!t(n))return!1;return!0},Ye=(e,t)=>{for(let[n,r]of e.entries())if(!t(r,n))return!1;return!0};function z(...e){return R({[N]:()=>({match:t=>{let n={},r=(e,t)=>{n[e]=t};return{matched:e.every(e=>I(e,t,r)),selections:n}},getSelectionKeys:()=>We(e,L),matcherType:`and`})})}function Xe(...e){return R({[N]:()=>({match:t=>{let n={},r=(e,t)=>{n[e]=t};return We(e,L).forEach(e=>r(e,void 0)),{matched:e.some(e=>I(e,t,r)),selections:n}},getSelectionKeys:()=>We(e,L),matcherType:`or`})})}function B(e){return{[N]:()=>({match:t=>({matched:!!e(t)})})}}function V(...e){let t=typeof e[0]==`string`?e[0]:void 0,n=e.length===2?e[1]:typeof e[0]==`string`?void 0:e[0];return R({[N]:()=>({match:e=>{let r={[t??P]:e};return{matched:n===void 0||I(n,e,(e,t)=>{r[e]=t}),selections:r}},getSelectionKeys:()=>[t??P].concat(n===void 0?[]:L(n))})})}function H(e){return typeof e==`number`}function U(e){return typeof e==`string`}function W(e){return typeof e==`bigint`}const Ze=R(B(function(e){return!0})),Qe=Ze,G=e=>Object.assign(R(e),{startsWith:t=>{return G(z(e,(n=t,B(e=>U(e)&&e.startsWith(n)))));var n},endsWith:t=>{return G(z(e,(n=t,B(e=>U(e)&&e.endsWith(n)))));var n},minLength:t=>G(z(e,(e=>B(t=>U(t)&&t.length>=e))(t))),length:t=>G(z(e,(e=>B(t=>U(t)&&t.length===e))(t))),maxLength:t=>G(z(e,(e=>B(t=>U(t)&&t.length<=e))(t))),includes:t=>{return G(z(e,(n=t,B(e=>U(e)&&e.includes(n)))));var n},regex:t=>{return G(z(e,(n=t,B(e=>U(e)&&!!e.match(n)))));var n}}),$e=G(B(U)),K=e=>Object.assign(R(e),{between:(t,n)=>K(z(e,((e,t)=>B(n=>H(n)&&e<=n&&t>=n))(t,n))),lt:t=>K(z(e,(e=>B(t=>H(t)&&t<e))(t))),gt:t=>K(z(e,(e=>B(t=>H(t)&&t>e))(t))),lte:t=>K(z(e,(e=>B(t=>H(t)&&t<=e))(t))),gte:t=>K(z(e,(e=>B(t=>H(t)&&t>=e))(t))),int:()=>K(z(e,B(e=>H(e)&&Number.isInteger(e)))),finite:()=>K(z(e,B(e=>H(e)&&Number.isFinite(e)))),positive:()=>K(z(e,B(e=>H(e)&&e>0))),negative:()=>K(z(e,B(e=>H(e)&&e<0)))}),et=K(B(H)),q=e=>Object.assign(R(e),{between:(t,n)=>q(z(e,((e,t)=>B(n=>W(n)&&e<=n&&t>=n))(t,n))),lt:t=>q(z(e,(e=>B(t=>W(t)&&t<e))(t))),gt:t=>q(z(e,(e=>B(t=>W(t)&&t>e))(t))),lte:t=>q(z(e,(e=>B(t=>W(t)&&t<=e))(t))),gte:t=>q(z(e,(e=>B(t=>W(t)&&t>=e))(t))),positive:()=>q(z(e,B(e=>W(e)&&e>0))),negative:()=>q(z(e,B(e=>W(e)&&e<0)))});var J={__proto__:null,matcher:N,optional:qe,array:function(...e){return Ke({[N]:()=>({match:t=>{if(!Array.isArray(t))return{matched:!1};if(e.length===0)return{matched:!0};let n=e[0],r={};if(t.length===0)return L(n).forEach(e=>{r[e]=[]}),{matched:!0,selections:r};let i=(e,t)=>{r[e]=(r[e]||[]).concat([t])};return{matched:t.every(e=>I(n,e,i)),selections:r}},getSelectionKeys:()=>e.length===0?[]:L(e[0])})})},set:function(...e){return R({[N]:()=>({match:t=>{if(!(t instanceof Set))return{matched:!1};let n={};if(t.size===0)return{matched:!0,selections:n};if(e.length===0)return{matched:!0};let r=(e,t)=>{n[e]=(n[e]||[]).concat([t])},i=e[0];return{matched:Je(t,e=>I(i,e,r)),selections:n}},getSelectionKeys:()=>e.length===0?[]:L(e[0])})})},map:function(...e){return R({[N]:()=>({match:t=>{if(!(t instanceof Map))return{matched:!1};let n={};if(t.size===0)return{matched:!0,selections:n};let r=(e,t)=>{n[e]=(n[e]||[]).concat([t])};if(e.length===0)return{matched:!0};if(e.length===1)throw Error(`\`P.map\` wasn't given enough arguments. Expected (key, value), received ${e[0]?.toString()}`);let[i,a]=e;return{matched:Ye(t,(e,t)=>{let n=I(i,t,r),o=I(a,e,r);return n&&o}),selections:n}},getSelectionKeys:()=>e.length===0?[]:[...L(e[0]),...L(e[1])]})})},intersection:z,union:Xe,not:function(e){return R({[N]:()=>({match:t=>({matched:!I(e,t,()=>{})}),getSelectionKeys:()=>[],matcherType:`not`})})},when:B,select:V,any:Ze,_:Qe,string:$e,number:et,bigint:q(B(W)),boolean:R(B(function(e){return typeof e==`boolean`})),symbol:R(B(function(e){return typeof e==`symbol`})),nullish:R(B(function(e){return e==null})),nonNullable:R(B(function(e){return e!=null})),instanceOf:function(e){return R(B(function(e){return t=>t instanceof e}(e)))},shape:function(e){return R(B(Ge(e)))}},tt=class extends Error{constructor(e){let t;try{t=JSON.stringify(e)}catch{t=e}super(`Pattern matching error: no pattern matches value ${t}`),this.input=void 0,this.input=e}};const nt={matched:!1,value:void 0};function rt(e){return new it(e,nt)}var it=class e{constructor(e,t){this.input=void 0,this.state=void 0,this.input=e,this.state=t}with(...t){if(this.state.matched)return this;let n=t[t.length-1],r=[t[0]],i;t.length===3&&typeof t[1]==`function`?i=t[1]:t.length>2&&r.push(...t.slice(1,t.length-1));let a=!1,o={},s=(e,t)=>{a=!0,o[e]=t},c=!r.some(e=>I(e,this.input,s))||i&&!i(this.input)?nt:{matched:!0,value:n(a?P in o?o[P]:o:this.input,this.input)};return new e(this.input,c)}when(t,n){if(this.state.matched)return this;let r=!!t(this.input);return new e(this.input,r?{matched:!0,value:n(this.input,this.input)}:nt)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(e=at){return this.state.matched?this.state.value:e(this.input)}run(){return this.exhaustive()}returnType(){return this}narrow(){return this}};function at(e){throw new tt(e)}const Y=`/api/v1/contrib/eventmanagement`,ot={get:{eventsPublic:{url:`${Y}/public/events`,cache:!1},eventsCountPublic:{url:`${Y}/public/events/count`,cache:!1},targetGroupsPublic:{url:`${Y}/public/target_groups`,cache:!0},eventTypesPublic:{url:`${Y}/public/event_types`,cache:!0},imagePublic:{url:`${Y}/public/image`,cache:!0},locationsPublic:{url:`${Y}/public/locations`,cache:!0},settingsPublic:{url:`${Y}/public/settings`,cache:!0},eventIcalPublic:{url:`${Y}/public/events`,cache:!1},settings:{url:`${Y}/settings`,cache:!1},events:{url:`${Y}/events`,cache:!1},eventTypes:{url:`${Y}/event_types`,cache:!0},images:{url:`${Y}/images`,cache:!0},locations:{url:`${Y}/locations`,cache:!0},targetGroups:{url:`${Y}/target_groups`,cache:!0},branches:{url:`/api/v1/libraries`,cache:!0}},post:{settings:{url:`${Y}/settings`,cache:!1},events:{url:`${Y}/events`,cache:!1},eventTypes:{url:`${Y}/event_types`,cache:!1},images:{url:`${Y}/images`,cache:!1},locations:{url:`${Y}/locations`,cache:!1},targetGroups:{url:`${Y}/target_groups`,cache:!1}},put:{settings:{url:`${Y}/settings`,cache:!1},events:{url:`${Y}/events`,cache:!1},eventTypes:{url:`${Y}/event_types`,cache:!1},locations:{url:`${Y}/locations`,cache:!1},targetGroups:{url:`${Y}/target_groups`,cache:!1}},delete:{events:{url:`${Y}/events`,cache:!1},eventTypes:{url:`${Y}/event_types`,cache:!1},image:{url:`${Y}/image`,cache:!1},locations:{url:`${Y}/locations`,cache:!1},targetGroups:{url:`${Y}/target_groups`,cache:!1}}},st=new class{constructor(e){this.endpoints=e}_fetch(e,t){return fetch(e,t)}_stringifyQuery(e){return rt(e).with(J.nullish,()=>``).with(J.string,e=>e.startsWith(`?`)?e.slice(1):e).with(J._,e=>new URLSearchParams(e).toString()).exhaustive()}_toRelativeUrl(e,t,n){if(!e)throw Error(`Argument basePath is ${e}.`);return`${e}/${t?.join(`/`)}?${this._stringifyQuery(n)}`}_request({endpoint:e,path:t,query:n,requestInit:r}){let i=r?.method;[`get`,`post`,`put`,`delete`].includes(i??``)||(i=void 0);let a=this.endpoints[i??`get`][e];if(!a)return this._fetch(this._toRelativeUrl(Y),r);let{url:o}=a;if(!o)throw Error(`No Url configured for: ${e}`);t&&(o+=`/${t.join(`/`)}`);let s={...a.requestInit,...r};s=rt(r?.body).with(J.nullish,()=>s).with(J.instanceOf(FormData),e=>({...s,headers:{"Content-Type":`application/x-www-form-urlencoded`},body:e})).with(J._,e=>({...s,headers:{"Content-Type":`application/json`},body:e})).exhaustive(),s.cache=rt(navigator.userAgent.toLowerCase()).when(e=>e.includes(`chrome`),()=>a.ignoreCache?`no-cache`:`no-store`).when(e=>e.includes(`firefox`),()=>a.ignoreCache?`no-cache`:`default`).otherwise(()=>a.ignoreCache?`no-cache`:a.cache?`default`:`force-cache`);let c=new URLSearchParams;if(a.query&&(c=new URLSearchParams(a.query)),n){let e=new URLSearchParams(c);new URLSearchParams(n).forEach((t,n)=>{e.append(n,t)}),c=e}return c.size&&(o+=`?${c.toString()}`),fetch(o,r)}get({endpoint:e,path:t,query:n,requestInit:r={method:`get`}}){return this._request({endpoint:e,path:t,query:n,requestInit:{...r,method:`get`}})}post({endpoint:e,path:t,query:n,requestInit:r={method:`post`}}){return this._request({endpoint:e,path:t,query:n,requestInit:{...r,method:`post`}})}put({endpoint:e,path:t,query:n,requestInit:r={method:`put`}}){return this._request({endpoint:e,path:t,query:n,requestInit:{...r,method:`put`}})}delete({endpoint:e,path:t,query:n,requestInit:r={method:`delete`}}){return this._request({endpoint:e,path:t,query:n,requestInit:{...r,method:`delete`}})}}(ot);var ct=function(e){e||={},this&&(this.__version=`2.0.0`);var t={domain:`messages`,locale:(typeof document<`u`?document.documentElement.getAttribute(`lang`):!1)||`en`,plural_func:function(e){return{nplurals:2,plural:e==1?0:1}},ctxt_delimiter:``},n={isObject:function(e){var t=typeof e;return t===`function`||t===`object`&&!!e},isArray:function(e){return toString.call(e)===`[object Array]`}},r={},i=e.locale||t.locale,a=e.domain||t.domain,o={},s={},c=e.ctxt_delimiter||t.ctxt_delimiter;e.messages&&(o[a]={},o[a][i]=e.messages),e.plural_forms&&(s[i]=e.plural_forms);var l=function(e){var t=arguments;return e.replace(/%%/g,`%% `).replace(/%(\d+)/g,function(e,n){return t[n]}).replace(/%% /g,`%`)},u=function(e){return e.indexOf(c)===-1?e:e.split(c)[1]},d=function(e){for(var t=[e],n=e.lastIndexOf(`-`);n>0;)e=e.slice(0,n),t.push(e),n=e.lastIndexOf(`-`);return t},f=function(e){e=e.replace(`_`,`-`);var t=e.search(/[.@]/);return t!=-1&&(e=e.slice(0,t)),e},p=function(e){var t=RegExp(`^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+`),n=e.match(t);if(!n||n[0]!==e)throw Error(l(`The plural form "%1" is not valid`,e));return Function(`n`,`var plural, nplurals; `+e+` return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };`)},ee=function(e,t,n){if(!n.plural_form)return l.apply(this,[u(e[0])].concat(Array.prototype.slice.call(arguments,3)));var a;return n.plural_func?a=n.plural_func(t):(r[i]||(r[i]=p(s[i])),a=r[i](t)),(a.plural===void 0||a.plural>a.nplurals||e.length<=a.plural)&&(a.plural=0),l.apply(this,[u(e[a.plural])].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:l,expand_locale:d,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(e,t,r,i){if(!e||!t||!r)throw Error(`You must provide a domain, a locale and messages`);if(typeof e!=`string`||typeof t!=`string`||!n.isObject(r))throw Error(`Invalid arguments`);return t=f(t),i&&(s[t]=i),o[e]||(o[e]={}),o[e][t]=r,this},loadJSON:function(e,r){if(n.isObject(e)||(e=JSON.parse(e)),!e[``]||!e[``].language||!e[``][`plural-forms`])throw Error(`Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information`);var i=e[``];return delete e[``],this.setMessages(r||t.domain,i.language,e,i[`plural-forms`])},setLocale:function(e){return i=f(e),this},getLocale:function(){return i},textdomain:function(e){return e?(a=e,this):a},gettext:function(e){return this.dcnpgettext.apply(this,[void 0,void 0,e,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(e,t,n){return this.dcnpgettext.apply(this,[void 0,void 0,e,t,n].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(e,t){return this.dcnpgettext.apply(this,[void 0,e,t,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(e,n,r,s,l){if(e||=a,typeof r!=`string`)throw Error(this.strfmt(`Msgid "%1" is not a valid translatable string`,r));var u,f={plural_form:!1},p=n?n+c+r:r,m,h,te=d(i);for(var ne in te)if(h=te[ne],m=o[e]&&o[e][h]&&o[e][h][p],s?m&&=typeof o[e][h][p]!=`string`:m&&=typeof o[e][h][p]==`string`,m)break;return m?u=o[e][h][p]:(u=r,f.plural_func=t.plural_func),s?(f.plural_form=!0,ee.apply(this,[m?u:[r,s],l,f].concat(Array.prototype.slice.call(arguments,5)))):ee.apply(this,[[u],l,f].concat(Array.prototype.slice.call(arguments,5)))}}};let lt,X=!1;const ut=[];let dt=!1;const Z=document.documentElement.lang.slice(0,2);document.documentElement.lang===`en`||document.documentElement.lang;async function ft(e=`/api/v1/contrib/eventmanagement/static/locales`){if(!(Z.startsWith(`en`)||X))try{let t=await fetch(`${e}/${Z}/LC_MESSAGES/${Z}.json`);if(t.status>=200&&t.status<=299){let e=await t.json(),n=ct();n.loadJSON(e,`messages`),n.setLocale(Z),lt=n,X=!0,ut.forEach(({callback:e})=>{e()})}else console.info(`No translations found for locale ${Z}. Using default locale.`)}catch(e){console.error(`Error loading translations for locale ${Z}:`,e)}}const Q=ze(class extends Be{constructor(e){super(e),this._element=null,this._textNode=null,this._element=document.createElement(`span`),this._element.classList.add(`pointer-events-none`),this._textNode=document.createTextNode(``),this._element.appendChild(this._textNode),this._locale=document.documentElement.lang.slice(0,2),!dt&&!this._locale.startsWith(`en`)&&(dt=!0,ft())}async updateTranslation(e){X&&this._textNode&&(this._textNode.textContent=lt.gettext(e))}async ____(e){return X?lt.gettext(e):(ut.push({text:e,callback:()=>{this.updateTranslation(e),this._element&&this._element.classList.remove(`skeleton`,`skeleton-text`)}}),this._locale.startsWith(`en`)?e:``)}generatePlaceholder(){let e=Math.floor(Math.random()*5)+8;return`\xA0`.repeat(e)}update(e,[t]){return this.____(t).then(e=>{this.updateTranslation(t),this.render(e)}),this.render(t)}render(e){return this._element&&this._textNode?(X||this._locale.startsWith(`en`)?this._textNode.textContent=e:(this._textNode.textContent=this.generatePlaceholder(),this._element.classList.add(`skeleton`,`skeleton-text`)),this._element):e}});let $=class extends j{constructor(){super(...arguments),this.events=[],this.loading=!0,this.error=!1,this.locations=[],this.selectedLocation=null,this.config={enabled:!1,title:Q(`Upcoming Events`),displayMode:`count`,layout:`vertical`,eventCount:5,timePeriod:14,selectedEvents:[],allEventsText:Q(`All Events`)}}async connectedCallback(){super.connectedCallback(),await this.loadConfig(),await this.loadLocations(),this.config.enabled&&await this.loadEvents()}updated(e){super.updated(e),e.has(`selectedLocation`)&&this.config.enabled&&this.loadEvents()}async loadConfig(){try{let e=(await(await st.get({endpoint:`settingsPublic`})).json()).reduce((e,t)=>{if(t.plugin_key.startsWith(`widget_`)){let n=t.plugin_key.replace(`widget_`,``);e[n]=t.plugin_value}return e},{});this.config={enabled:e.enabled===1,title:e.title||this.config.title,displayMode:e.display_mode||this.config.displayMode,layout:e.layout||this.config.layout,eventCount:parseInt(e.event_count||`5`,10),timePeriod:parseInt(e.time_period||`14`,10),selectedEvents:e.selected_events?JSON.parse(e.selected_events):[],allEventsText:e.all_events_text||this.config.allEventsText}}catch(e){console.error(`Failed to load widget config:`,e),this.config.enabled=!1}}async loadLocations(){try{this.locations=(await(await st.get({endpoint:`locationsPublic`})).json()).map(e=>({id:e.id,name:e.name}))}catch(e){console.error(`Failed to load locations:`,e)}}async loadEvents(){this.loading=!0,this.error=!1;try{let e=new URLSearchParams;if(this.config.displayMode===`period`){let t=new Date,n=new Date(t.getTime()+this.config.timePeriod*24*60*60*1e3);e.append(`start_time`,t.toISOString()),e.append(`end_time`,n.toISOString())}let t=await(await st.get({endpoint:`eventsPublic`,query:e.toString()})).json(),n=new Date;t=t.filter(e=>new Date(e.start_time)>n),this.selectedLocation&&(t=t.filter(e=>e.location===this.selectedLocation)),t.sort((e,t)=>new Date(e.start_time).getTime()-new Date(t.start_time).getTime()),this.config.displayMode===`manual`?t=this.config.selectedEvents.length>0?t.filter(e=>this.config.selectedEvents.includes(e.id)):[]:this.config.displayMode===`count`&&(t=t.slice(0,this.config.eventCount)),this.events=t,this.loading=!1}catch(e){console.error(`Failed to load events:`,e),this.error=!0,this.loading=!1}}formatDateTime(e){return new Date(e).toLocaleDateString(void 0,{weekday:`short`,year:`numeric`,month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`})}getEventUrl(e){return`/cgi-bin/koha/opac-page.pl?code=lmscloud-eventmanagement#event-${e}`}getAllEventsUrl(){return`/cgi-bin/koha/opac-page.pl?code=lmscloud-eventmanagement`}render(){return this.config.enabled?this.loading?T`<div class="widget-container"><div class="loading"><div class="loading-spinner"></div><p>${Q(`Loading events...`)}</p></div></div>`:this.error?T`<div class="widget-container"><div class="error">${Q(`Failed to load events. Please try again later.`)}</div></div>`:this.events.length===0?T`<div class="widget-container"><div class="widget-header">${this.config.title}</div>${this.locations.length>0?T`<div class="location-filter"><select @change="${e=>{let t=e.target;this.selectedLocation=t.value?Number(t.value):null}}"><option value="">${Q(`All Locations`)}</option>${this.locations.map(e=>T`<option value="${e.id}" ?selected="${this.selectedLocation===e.id}">${e.name}</option>`)}</select></div>`:D}<div class="no-events">${Q(`No upcoming events at this time.`)}</div><div class="widget-footer"><a href="${this.getAllEventsUrl()}" class="all-events-button">${this.config.allEventsText}</a></div></div>`:T`<div class="widget-container"><div class="widget-header">${this.config.title}</div>${this.locations.length>0?T`<div class="location-filter"><select @change="${e=>{let t=e.target;this.selectedLocation=t.value?Number(t.value):null}}"><option value="">${Q(`All Locations`)}</option>${this.locations.map(e=>T`<option value="${e.id}" ?selected="${this.selectedLocation===e.id}">${e.name}</option>`)}</select></div>`:D}<ul class="${Ve({"events-list":!0,horizontal:this.config.layout===`horizontal`})}">${this.events.map(e=>T`<li class="event-item"><a href="${this.getEventUrl(e.id)}" class="event-link"><div class="event-name">${e.name}</div><div class="event-details"><span class="event-time">${this.formatDateTime(e.start_time)} </span>${e.location_name?T`<span class="event-location">${e.location_name}</span>`:D}</div></a></li>`)}</ul><div class="widget-footer"><a href="${this.getAllEventsUrl()}" class="all-events-button">${this.config.allEventsText}</a></div></div>`:T``}};$.styles=s`:host{--widget-bg-color:#fff;--widget-border-color:#ddd;--widget-border-width:1px;--widget-border-radius:4px;--widget-padding:1rem;--widget-spacing:1rem;--widget-spacing-sm:0.5rem;--widget-spacing-xs:0.25rem;--widget-spacing-lg:2rem;--header-font-size:1.25rem;--header-font-weight:600;--header-text-color:#333;--accent-color:#0076b6;--accent-color-hover:#005a8c;--accent-color-light:#e3f2fd;--text-color:inherit;--text-color-muted:#666;--text-color-on-accent:#fff;--event-bg-color:#fafafa;--event-bg-color-hover:#f0f0f0;--event-border-color:var(--accent-color);--event-border-width:2px;--event-padding:0.75rem;--event-min-width-horizontal:250px;--input-padding:0.5rem;--input-font-size:0.9rem;--input-border-radius:var(--widget-border-radius);--button-padding-y:0.5rem;--button-padding-x:1.25rem;--button-font-weight:500;--error-color:#d32f2f;--spinner-size:32px;--spinner-border-width:2px;--spinner-bg-color:#f3f3f3;--transition-duration:0.15s;display:block;font-family:inherit}.widget-container{background:var(--widget-bg-color);border:var(--widget-border-width) solid var(--widget-border-color);padding:var(--widget-padding)}.widget-header{font-size:var(--header-font-size);font-weight:var(--header-font-weight);margin-bottom:var(--widget-spacing);padding-bottom:var(--widget-spacing-sm);border-bottom:var(--widget-border-width) solid var(--widget-border-color);color:var(--header-text-color)}.location-filter{margin-bottom:var(--widget-spacing)}.location-filter select{width:100%;padding:var(--input-padding);border:var(--widget-border-width) solid var(--widget-border-color);border-radius:var(--input-border-radius);font-size:var(--input-font-size);background:var(--widget-bg-color)}.events-list{list-style:none;padding:0;margin:0}.events-list.horizontal{display:flex;overflow-x:auto;gap:var(--widget-spacing);padding-bottom:var(--widget-spacing-sm);-webkit-overflow-scrolling:touch}.event-item{padding:var(--event-padding);margin-bottom:var(--widget-spacing-sm);border-left:var(--event-border-width) solid var(--event-border-color);background:var(--event-bg-color);transition:background var(--transition-duration);cursor:pointer}.events-list.horizontal .event-item{min-width:var(--event-min-width-horizontal);margin-bottom:0;flex-shrink:0}.event-item:hover{background:var(--event-bg-color-hover)}.event-link{text-decoration:none;color:var(--text-color);display:block}.event-name{font-weight:var(--header-font-weight);color:var(--accent-color);margin-bottom:var(--widget-spacing-xs);font-size:.95rem}.event-details{font-size:.85rem;color:var(--text-color-muted);display:flex;flex-direction:column;gap:var(--widget-spacing-xs)}.event-location,.event-time{display:block}.widget-footer{margin-top:var(--widget-spacing);padding-top:var(--event-padding);border-top:var(--widget-border-width) solid var(--widget-border-color);text-align:center}.all-events-button{display:inline-block;background:var(--accent-color);color:var(--text-color-on-accent);padding:var(--button-padding-y) var(--button-padding-x);text-decoration:none;font-weight:var(--button-font-weight);transition:background var(--transition-duration);border:none}.all-events-button:hover{background:var(--accent-color-hover)}.error,.loading,.no-events{padding:var(--widget-spacing-lg);text-align:center;color:var(--text-color-muted)}.error{color:var(--error-color)}.loading-spinner{border:var(--spinner-border-width) solid var(--spinner-bg-color);border-top:var(--spinner-border-width) solid var(--accent-color);border-radius:50%;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1s linear infinite;margin:0 auto}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}`,e([M()],$.prototype,`events`,void 0),e([M()],$.prototype,`loading`,void 0),e([M()],$.prototype,`error`,void 0),e([M()],$.prototype,`locations`,void 0),e([M()],$.prototype,`selectedLocation`,void 0),e([M()],$.prototype,`config`,void 0),$=e([Pe(`lms-opac-events-widget`)],$);var pt={OpacEventsWidget:$};export{pt as default};
//# sourceMappingURL=opac-widget.js.map